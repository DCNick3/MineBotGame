### Realization

# Сервер

## Архитектура

_Нууу ээээ надо чтобы он где-то хранил (возможно в БДшке или файлике каком-то, внешне короче) всю инфу об игроках_

## Методы

	//Обновление состояния игрока на момент начала его хода и отправка актуальной информации игроку.
	UpdatePlayerState(player\_id)
	{
		Собрать информацию по глобальным параметрам игрока;
		player.UpdateState(...);
	}

	//Отправка действий оппонента
	SendOpponentActions(CommandList)
	{
		Убрать лишние данные;
		player.OpponentActions;	
	}

	//Реакция на событие Mine
	Mine()
	{
		Проверка управления игроком данным объектом
		Проверка возможности юнита добывать ресурсы
		Проверка, что у юнита есть место для ресурса
		Проверка, что юнит может с данной позиции добывать ресурс
		Если может добывать, то
			Прервать все предыдущие многоходовые действия юнита
			Пометить юнита, как участвующего в многоходовом действии с запоминанием количества оставшихся ходов и результатом
		Иначе
			ОШИБКАЧИТЕРЫВЫУВЫУВЫУ
	}

	//Реакция на событие Build
	Build()
	{
		Проверка управления игроком данным объектом
		Проверка возможности юнита строить здания.
		Проверка, что юнит может с данной позиции поставить здание в указанные координаты.
		Если может построить, то
			Прервать все предыдущие многоходовые действия юнита
			Пометить юнита, как участвующего в многоходовом действии с запоминанием количества оставшихся ходов и результатом
			Добавить здание (с неполным HP + без функционала)
		Иначе
			ОШИБКАЧИТЕРЫВЫУВЫУВЫУ
	}

	//Реакция на событие CreateObject
	CreateUnit()
	{
		Осознание, что за объект создается
		Проверка наличия ресурсов на постройку объекта
		Проверка наличия исследования для создания объекта
		Проверка возможности здания создавать данный объект
		Если может создать, то
			Прервать все предыдущие многоходовые действия здания
			Пометить здание, как участвующее в многоходовом действии с запоминанием количества оставшихся ходов и результатом
		Иначе
			ОШИБКАЧИТЕРЫВЫУВЫУВЫУ
	}

	//Реакция на событие Upgrade
	Upgrade()
	{
		Проверка управления игроком данным объектом
		Проверка наличия ресурсов на создание апгрейда
		Проверка наличия исследования для создания апгрейда
		Проверка возможности объекта создавать данный апгрейд
		Если может создать, то
			Прервать все предыдущие многоходовые действия здания
			Пометить здание, как участвующее в многоходовом действии с запоминанием количества оставшихся ходов и результатом
		Иначе
			ОШИБКАЧИТЕРЫВЫУВЫУВЫУ
	}

	//Реакция на событие Move
	Move()
	{
		Проверка управления игроком данным объектом
		Проверка на наличие препятствий на пути
		Если может переместиться, то
			Прервать все предыдущие многоходовые действия объекта
			Переместить объект на возможное количество клеток (проверка на скорость и все такое)
			Если действие не доведено до конца 
				Пометить объект, как участвующий в многоходовом действии с запоминанием количества оставшихся ходов и результатом
		Иначе
			ОШИБКАЧИТЕРЫВЫУВЫУВЫУ
	}

	//Реакция на событие Hit
	Hit()
	{
		Проверка управления игроком данным объектом
		Проверка возможности использования данного удара 
		Поиск параметров удара
		Проверка радиуса действия и расположения оппонента
		Если может ударить, то
			Прервать все предыдущие многоходовые действия объекта
			Обработка удара
			Если действие не доведено до конца 
				Пометить объект, как участвующий в многоходовом действии с запоминанием количества оставшихся ходов и результатом
		Иначе
			ОШИБКАЧИТЕРЫВЫУВЫУВЫУ
	}

	//Реакция на событие SelfDestruction
	SelfDestruction()
	{
		Проверка управления игроком данным объектом
		Прервать все предыдущие многоходовые действия объекта
		Удалить объект
	}

	//Реакция на событие Do
	Do()
	{
		Идти по всем командам списка и выполнять
	}
	
	
# Клиент

## Архитектура

_Интерфейсы под каждый модуль, интерфейс объектов с хп, интерфейс объектов с броней (возможно объединение с интерфейсом объектов с хп, если реализующие объекты совпадают), интерфейс объектов с дамагом. классы для юнита, строения, модуля, апгрейда_

## Методы